# ===============================================
# Monitoring System Configuration
# ===============================================
# Copy this file to .env and modify as needed
# cp .env.example .env

# ===============================================
# Project Configuration
# ===============================================
COMPOSE_PROJECT_NAME=monitoring

# ===============================================
# Service Images (Flexible - can change entire image, not just version)
# ===============================================
# Core Services
GRAFANA_IMAGE=grafana/grafana:12.2.0-16636675413
PROMETHEUS_IMAGE=prom/prometheus:v3.5.0
NODE_EXPORTER_IMAGE=prom/node-exporter:v1.9.0

# Optional Services (based on profiles)
INFLUXDB_IMAGE=influxdb:2.7.0
TELEGRAF_IMAGE=telegraf:1.27.0
ALERTMANAGER_IMAGE=prom/alertmanager:v0.25.0
PORTAINER_IMAGE=portainer/portainer-ce:lts

# ===============================================
# Service Ports
# ===============================================
GRAFANA_PORT=3000
PROMETHEUS_PORT=9090
INFLUXDB_PORT=8086
PORTAINER_PORT=9000

# ===============================================
# Network Configuration
# ===============================================
DOCKER_NETWORK=monitoring-network

# ===============================================
# Data Paths
# ===============================================
GRAFANA_DATA_PATH=./data/grafana
PROMETHEUS_DATA_PATH=./data/prometheus
INFLUXDB_DATA_PATH=./data/influxdb
INFLUXDB_CONFIG_PATH=./data/influxdb-config
PORTAINER_DATA_PATH=./data/portainer

# ===============================================
# Authentication & Security
# ===============================================
# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ROOT_URL=http://localhost:3000
GRAFANA_PLUGINS=

# InfluxDB
INFLUXDB_USERNAME=admin
INFLUXDB_PASSWORD=changeMe
INFLUXDB_ORG=myorg
INFLUXDB_BUCKET=mybucket
INFLUXDB_TOKEN=my-super-secret-auth-token
INFLUXDB_RETENTION=30d

# ===============================================
# Feature Flags
# ===============================================
# Enable SNMP monitoring (requires InfluxDB)
ENABLE_SNMP=false

# Enable custom script execution
ENABLE_EXEC_SCRIPTS=false

# Enable AlertManager
ENABLE_ALERTMANAGER=false

# Enable Portainer
ENABLE_PORTAINER=true

# Enable backup functionality
BACKUP_ENABLED=false

# ===============================================
# SNMP Configuration (when ENABLE_SNMP=true)
# ===============================================
# Format: name:host:port:community,name:host:port:community
TELEGRAF_SNMP_AGENTS=router1:192.168.1.1:161:public,switch1:192.168.1.2:161:public
TELEGRAF_SNMP_VERSION=2
TELEGRAF_SNMP_COMMUNITY=public #default
TELEGRAF_SNMP_INTERVAL=30s

# ===============================================
# Custom Scripts Configuration (when ENABLE_EXEC_SCRIPTS=true)
# ===============================================
TELEGRAF_EXEC_SCRIPTS_PATH=./exec-scripts

# ===============================================
# Prometheus Configuration
# ===============================================
# Remote node exporters (comma-separated list)
NODE_EXPORTER_TARGETS=192.168.1.10:9100,192.168.1.11:9100

# Retention settings
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_RETENTION_SIZE=10GB

# ===============================================
# Alerting Configuration (when ENABLE_ALERTMANAGER=true)
# ===============================================
# Email alerts
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_TO=admin@example.com
ALERT_EMAIL_FROM=alerts@example.com
ALERT_EMAIL_HOST=smtp.gmail.com
ALERT_EMAIL_PORT=587
ALERT_EMAIL_USER=your-email@gmail.com
ALERT_EMAIL_PASSWORD=your-app-password

# Slack alerts
ALERT_SLACK_ENABLED=false
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
ALERT_SLACK_CHANNEL=#alerts

# ===============================================
# Backup Configuration (when BACKUP_ENABLED=true)
# ===============================================
BACKUP_ENABLED=false
BACKUP_PATH=./backups
BACKUP_RETENTION_DAYS=7

# ===============================================
# Resource Limits
# ===============================================
# Grafana
GRAFANA_MEMORY_LIMIT=1g
GRAFANA_CPU_LIMIT=1

# Prometheus
PROMETHEUS_MEMORY_LIMIT=2g
PROMETHEUS_CPU_LIMIT=2

# InfluxDB
INFLUXDB_MEMORY_LIMIT=2g
INFLUXDB_CPU_LIMIT=2

# Telegraf
TELEGRAF_MEMORY_LIMIT=512m
TELEGRAF_CPU_LIMIT=1

# ===============================================
# Logging Configuration
# ===============================================
LOG_DRIVER=json-file
LOG_MAX_SIZE=10m
LOG_MAX_FILE=3
